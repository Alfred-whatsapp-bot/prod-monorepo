{"version":3,"file":"172.9554f6654bd3c715.js","mappings":"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","names":["UserProfileComponent","constructor","ngOnInit","selectors","i0","TableListComponent","value","error","reject","info","resolve","Promise","args","asyncGeneratorStep","_next","ApiConnectionService","http","this","headers","HttpHeaders","Authorization","localStorage","token","baseUrl","environment","getQrCode","get","httpOptions","getStatus","start","startBot","post","conversationName","getItem","stop","restart","getLogs","getConversation","getConnection","factory","AdminLayoutRoutes","path","component","PaginaInicialComponent","sanitizer","apiConnectionSrv","router","events","subscribe","event","NavigationStart","routePath","url","NavigationEnd","clearInterval","intervalLogs","intervalConnection","setInterval","connection","data","qrCode","bypassSecurityTrustResourceUrl","qr","base64Qr","status","session","console","log","window","location","reload","_this","logs","handleTexts","_this2","conversation","_this3","show","showQrCode","text","idHtml","document","querySelector","innerHTML","includes","retHtml","replace","getElementById","DashboardComponent","AdminLayoutModule","CommonModule","RouterModule"],"sourceRoot":"webpack:///","sources":["./src/app/pages/perfil/user-profile.component.ts","./src/app/pages/perfil/user-profile.component.html","./src/app/pages/produtos/table-list.component.ts","./src/app/pages/produtos/table-list.component.html","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","./src/app/services/api-connection.service.ts","./src/app/pages/pagina-inicial/pagina-inicial.component.html","./src/app/layouts/admin-layout/admin-layout.routing.ts","./src/app/pages/pagina-inicial/pagina-inicial.component.ts","./src/app/pages/dashboard/dashboard.component.ts","./src/app/pages/dashboard/dashboard.component.html","./src/app/layouts/admin-layout/admin-layout.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.scss']\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"main-content\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"form\">\r\n      <div class=\"form-body\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header card-header-danger\">\r\n            <h4 class=\"card-title\">Editar Perfil</h4>\r\n            <p class=\"card-category\">Atualize suas informações</p>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"col-md-4 profile-pic\">\r\n              <div class=\"card card-profile\">\r\n                <div class=\"card-avatar\">\r\n                  <img\r\n                    class=\"img\"\r\n                    src=\"./assets/img/faces/marc.jpg\"\r\n                    alt=\"fotoperfil\"\r\n                  />\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <h3\r\n                    class=\"card-title\"\r\n                    style=\"\r\n                      display: flex;\r\n                      align-items: center;\r\n                      justify-content: center;\r\n                    \"\r\n                  >\r\n                    Alec Thompson\r\n                    <a href=\"javascript:void(0)\" style=\"cursor: pointer\">\r\n                      <mat-icon\r\n                        aria-hidden=\"false\"\r\n                        aria-label=\"foto\"\r\n                        fontIcon=\"add_a_photo\"\r\n                      ></mat-icon>\r\n                    </a>\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <form>\r\n              <div class=\"col-md-3\">\r\n                <mat-form-field class=\"example-full-width\">\r\n                  <input matInput placeholder=\"Nome\" />\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <mat-form-field class=\"example-full-width\">\r\n                  <input matInput placeholder=\"Email\" type=\"email\" />\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <mat-form-field class=\"example-full-width\">\r\n                  <input matInput placeholder=\"Telefone\" type=\"text\" />\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <mat-form-field class=\"example-full-width\">\r\n                  <input matInput placeholder=\"Endereço completo\" type=\"text\" />\r\n                </mat-form-field>\r\n              </div>\r\n              <button\r\n                mat-raised-button\r\n                type=\"submit\"\r\n                class=\"btn btn-danger pull-right\"\r\n              >\r\n                Atualizar\r\n              </button>\r\n              <div class=\"clearfix\"></div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-table-list',\r\n  templateUrl: './table-list.component.html',\r\n  styleUrls: ['./table-list.component.scss']\r\n})\r\nexport class TableListComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"main-content\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header card-header-danger\">\r\n            <h4 class=\"card-title\">Simple Table</h4>\r\n            <p class=\"card-category\">Here is a subtitle for this table</p>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table\">\r\n                <thead class=\"text-primary\">\r\n                  <th>ID</th>\r\n                  <th>Name</th>\r\n                  <th>Country</th>\r\n                  <th>City</th>\r\n                  <th>Salary</th>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>1</td>\r\n                    <td>Dakota Rice</td>\r\n                    <td>Niger</td>\r\n                    <td>Oud-Turnhout</td>\r\n                    <td class=\"text-primary\">$36,738</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>2</td>\r\n                    <td>Minerva Hooper</td>\r\n                    <td>Curaçao</td>\r\n                    <td>Sinaai-Waas</td>\r\n                    <td class=\"text-primary\">$23,789</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>3</td>\r\n                    <td>Sage Rodriguez</td>\r\n                    <td>Netherlands</td>\r\n                    <td>Baileux</td>\r\n                    <td class=\"text-primary\">$56,142</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>4</td>\r\n                    <td>Philip Chaney</td>\r\n                    <td>Korea, South</td>\r\n                    <td>Overland Park</td>\r\n                    <td class=\"text-primary\">$38,735</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>5</td>\r\n                    <td>Doris Greene</td>\r\n                    <td>Malawi</td>\r\n                    <td>Feldkirchen in Kärnten</td>\r\n                    <td class=\"text-primary\">$63,542</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>6</td>\r\n                    <td>Mason Porter</td>\r\n                    <td>Chile</td>\r\n                    <td>Gloucester</td>\r\n                    <td class=\"text-primary\">$78,615</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { HttpClient, HttpHeaders, HttpResponse } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { environment } from \"../../environments/environment\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ApiConnectionService {\n  baseUrl: string = \"\";\n\n  constructor(private http: HttpClient) {\n    this.baseUrl = environment.urlApi;\n  }\n\n  httpOptions = {\n    headers: new HttpHeaders({ Authorization: \"Bearer \" + localStorage.token }),\n  };\n\n  getQrCode() {\n    return this.http.get<any>(`${this.baseUrl}/api/data`, this.httpOptions);\n  }\n\n  getStatus() {\n    return this.http.get<any>(`${this.baseUrl}/api/data`, this.httpOptions);\n  }\n\n  start() {\n    return this.http.get<any>(\n      `${this.baseUrl}/api/controls/start`,\n      this.httpOptions\n    );\n  }\n\n  startBot() {\n    return this.http.post<any>(\n      `${this.baseUrl}/api/startBot`,\n      { conversationName: localStorage.getItem(\"sessionName\") },\n      this.httpOptions\n    );\n  }\n\n  stop() {\n    return this.http.get<any>(\n      `${this.baseUrl}/api/controls/stop`,\n      this.httpOptions\n    );\n  }\n\n  restart() {\n    return this.http.get<any>(\n      `${this.baseUrl}/api/controls/restart`,\n      this.httpOptions\n    );\n  }\n\n  getLogs() {\n    return this.http.get<any>(`${this.baseUrl}/api/data`, this.httpOptions);\n  }\n\n  getConversation() {\n    return this.http.get<any>(`${this.baseUrl}/api/data`, this.httpOptions);\n  }\n\n  getConnection() {\n    return this.http.get<any>(\n      `${this.baseUrl}/api/connection`,\n      this.httpOptions\n    );\n  }\n}\n","<div class=\"hidden\" id=\"placeholder\"></div>\n<div class=\"main-content\">\n  <div class=\"container-fluid\">\n    <mat-tab-group animationDuration=\"2000ms\">\n      <mat-tab label=\"Controles\">\n        <div id=\"Controles\">\n          <div class=\"btn-group\">\n            <div *ngIf=\"connection === 'DISCONNECTED'; else connected\">\n              <button\n                mat-raised-button\n                type=\"button\"\n                class=\"btn btn-danger\"\n                id=\"start\"\n                (click)=\"startBot()\"\n              >\n                Começar\n              </button>\n              <div *ngIf=\"qrCode !== null\">\n                <img src={{ qrCode }} alt=\"QR Code\" class=\"img-fluid\" />\n                <div class=\"alert alert-warning\" role=\"alert\">\n                  <p>\n                    <strong>Atenção!</strong> Para iniciar o bot, você precisa\n                    escanear o QR Code acima.\n                  </p>\n                </div>\n              </div>\n            </div>\n            <ng-template #connected>\n              <button\n                mat-raised-button\n                type=\"submit\"\n                class=\"btn btn-warning\"\n                id=\"stop\"\n              >\n                Parar\n              </button>\n              <button\n                mat-raised-button\n                type=\"submit\"\n                class=\"btn btn-info\"\n                id=\"reload\"\n              >\n                Recarregar\n              </button>\n              <button\n                mat-raised-button\n                type=\"submit\"\n                class=\"btn btn-dark\"\n                id=\"restart\"\n              >\n                Reiniciar\n              </button>\n              <button\n                mat-raised-button\n                type=\"submit\"\n                class=\"btn btn-secondary\"\n                id=\"clearLog\"\n              >\n                Limpar Log\n              </button>\n            </ng-template>\n          </div>\n        </div></mat-tab\n      >\n      <mat-tab label=\"Conversas\"><div id=\"Conversas\"></div></mat-tab>\n      <mat-tab label=\"Logs\"> <div id=\"Logs\"></div></mat-tab>\n    </mat-tab-group>\n  </div>\n</div>\n","import { Routes } from \"@angular/router\";\r\n\r\nimport { UserProfileComponent } from \"../../pages/perfil/user-profile.component\";\r\nimport { TableListComponent } from \"../../pages/produtos/table-list.component\";\r\nimport { PaginaInicialComponent } from \"app/pages/pagina-inicial/pagina-inicial.component\";\r\nimport { DashboardComponent } from \"app/pages/dashboard/dashboard.component\";\r\n\r\nexport const AdminLayoutRoutes: Routes = [\r\n  { path: \"home\", component: PaginaInicialComponent },\r\n  { path: \"perfil\", component: UserProfileComponent },\r\n  { path: \"produtos\", component: TableListComponent },\r\n  { path: \"dashboard\", component: DashboardComponent },\r\n];\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { ApiConnectionService } from \"../../services/api-connection.service\";\r\nimport { Router, NavigationStart, NavigationEnd } from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: \"app-pagina-inicial\",\r\n  templateUrl: \"./pagina-inicial.component.html\",\r\n  styleUrls: [\"./pagina-inicial.component.scss\"],\r\n})\r\nexport class PaginaInicialComponent implements OnInit {\r\n  qrCode: any;\r\n  showQrCode = false;\r\n  status: any;\r\n  logs: string;\r\n  routePath: string;\r\n  intervalLogs: any;\r\n  intervalConnection: any;\r\n  connection: string = \"DISCONNECTED\";\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiConnectionSrv: ApiConnectionService,\r\n    private router: Router\r\n  ) {\r\n    this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationStart) {\r\n        this.routePath = event.url;\r\n      }\r\n    });\r\n    this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationEnd) {\r\n        clearInterval(this.intervalLogs);\r\n        clearInterval(this.intervalConnection);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.intervalConnection = setInterval(() => {\r\n      this.getConnection();\r\n    }, 1000);\r\n\r\n    this.intervalLogs = setInterval(() => {\r\n      if (this.connection === \"CONNECTED\") {\r\n        this.getStatus();\r\n        this.getLogs();\r\n        this.getQrCode();\r\n        this.getConversation();\r\n      }\r\n    }, 2000);\r\n  }\r\n\r\n  getQrCode() {\r\n    this.apiConnectionSrv.getQrCode().subscribe((data) => {\r\n      this.qrCode = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n        data.qr.base64Qr\r\n      );\r\n    });\r\n  }\r\n\r\n  getStatus() {\r\n    this.apiConnectionSrv.getStatus().subscribe((data) => {\r\n      this.status = data.session.status;\r\n    });\r\n  }\r\n\r\n  start() {\r\n    this.apiConnectionSrv.start().subscribe((data) => {\r\n      console.log(data);\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  startBot() {\r\n    this.apiConnectionSrv.startBot().subscribe((data) => {\r\n      console.log(data);\r\n    });\r\n  }\r\n\r\n  stop() {\r\n    this.apiConnectionSrv.stop().subscribe((data) => {\r\n      console.log(data);\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  restart() {\r\n    this.apiConnectionSrv.restart().subscribe((data) => {\r\n      console.log(data);\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  async getLogs() {\r\n    this.apiConnectionSrv.getLogs().subscribe((data) => {\r\n      this.logs = data.logs;\r\n\r\n      if (data.logs !== \"\" || data.logs !== null) {\r\n        this.handleTexts(data.logs, \"Logs\");\r\n      }\r\n    });\r\n  }\r\n\r\n  async getConversation() {\r\n    this.apiConnectionSrv.getLogs().subscribe((data) => {\r\n      this.logs = data.conversation;\r\n\r\n      if (data.conversation !== \"\" || data.conversation !== null) {\r\n        this.handleTexts(data.conversation, \"Conversas\");\r\n      }\r\n    });\r\n  }\r\n\r\n  async getConnection() {\r\n    this.apiConnectionSrv.getConnection().subscribe((data) => {\r\n      this.connection = data.status;\r\n    });\r\n  }\r\n\r\n  show() {\r\n    this.showQrCode = true;\r\n  }\r\n\r\n  handleTexts(text: string, idHtml: string) {\r\n    const getTabSelected = document.querySelector(\r\n      \"div[role='tab'][aria-selected=true] div\"\r\n    ).innerHTML;\r\n    if (getTabSelected.includes(idHtml)) {\r\n      const retHtml = text\r\n        ? text\r\n            .replace(\r\n              /\\[Receive\\]/g,\r\n              \"<span class='bg-warning'>[Recebido]:</span>\"\r\n            )\r\n            .replace(/\\[Send\\]/g, \"<span class='bg-warning'>[Enviado]:</span>\")\r\n            .replace(/\\[Error\\]/g, \"<span class='red'>[Erro]:</span>\")\r\n            .replace(/\\[Start\\]/g, \"<span class='purple'>[Start]:</span>\")\r\n            .replace(/\\[Init\\]/g, \"<span class='purple'>[Iniciando]:</span>\")\r\n            .replace(/\\[Stop\\]/g, \"<span class='red'>[Parou]:</span>\")\r\n            .replace(/\\[Restart\\]/g, \"<span class='red'>[Reiniciou]:</span>\")\r\n            .replace(/\\[Reload\\]/g, \"<span class='red'>[Recarregou]:</span>\")\r\n            .replace(/\\[Job\\]/g, \"<span class='blue'>[Job]:</span>\")\r\n            .replace(/from:/g, \"<span class='white'>from:</span>\")\r\n            .replace(/to:/g, \"<span class='white'>to:</span>\")\r\n            .replace(/id:/g, \"<span class='white'>id:</span>\")\r\n            .replace(/parent:/g, \"<span class='white'>parent:</span>\")\r\n            .replace(/pattern:/g, \"<span class='white'>pattern:</span>\")\r\n            .replace(/input:/g, \"<span class='white'>input:</span>\")\r\n        : \"\";\r\n\r\n      if (idHtml !== null) {\r\n        const objDiv = document.getElementById(idHtml);\r\n        objDiv.innerHTML = retHtml;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>dashboard works!</p>\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { AdminLayoutRoutes } from \"./admin-layout.routing\";\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule.forChild(AdminLayoutRoutes)],\r\n  declarations: [],\r\n})\r\nexport class AdminLayoutModule {}\r\n"],"x_google_ignoreList":[4]}